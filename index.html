<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="background-image: url('https://cdn.pixabay.com/photo/2020/01/28/10/05/the-cartoon-4799363_1280.jpg'); background-position: center; background-repeat: no-repeat; background-attachment: fixed; background-size: cover;">
    
    
    <canvas class="canvas" style="border:1px solid #000000;">
    </canvas>

    <script>

        
        var init_size =  true;
        window.addEventListener("resize", resizeCanvas, false)

        function resizeCanvas(){
            canvas.width  = window.innerWidth;
            canvas.height = window.innerHeight;
            if(init_size){
                init_size = false;
                return;
            }
            for(var i=0; i < agents.length; i++){
                agents[i].canvas_resize();
            }
        }
        resizeCanvas();
        var img = new Image();
        img.src = "0.png";
        var context = canvas.getContext("2d");
        var flip = false;
        var x = 10;
        var x_dis = 10;
        var y =  10;
        var y_dist = 50;
        var last_animation_time = new Date().getTime();
        var time_delta = 50;

        function call_me_on_draw(){
            window.requestAnimationFrame(call_me_on_draw);
            console.log("Hello Draw");


            if(time_delta + last_animation_time > newDate().getTime()){
                return; //not enough time elapsed between animation frame
            }
            if(x > window.innerWidth){
                x = 10;
            }
            x = x + x_dis;
            context.drawImage(img, x, 10, 200, 50); 

            if(flip){
                context.drawImage(img, 10, 10, 200, 50); 
            }
            else{
                context.drawImage(img, 10, 10, 50, 200);
            }

        call_me_on_draw();

        //this context.drawImage(this.current_image. this.cur_x this.cur_y, this.current_image width*this.canvas)

        }


    </script>
</body>
</html>